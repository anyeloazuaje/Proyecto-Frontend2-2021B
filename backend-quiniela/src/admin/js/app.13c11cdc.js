(function(e){function t(t){for(var r,n,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},i={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"059c":function(e,t,a){e.exports=a.p+"img/admin.7ed07ad9.png"},"0af0":function(e,t,a){},"0db6":function(e,t,a){"use strict";a("8774")},"14ee":function(e,t,a){},"2dae":function(e,t,a){"use strict";a("14ee")},"37d6":function(e,t,a){"use strict";a("eaad")},"421d":function(e,t,a){},5127:function(e,t,a){"use strict";a("fdf4")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[e.renderizadoSidebar?a("Sidebar"):e._e(),a("transition",{attrs:{name:"animacion",mode:"out-in"}},[a("router-view")],1)],1)],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{staticClass:"blue darken-3 ",attrs:{dark:"",app:"",temporary:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{staticClass:"red lighten-1",attrs:{block:""},on:{click:e.logout}},[e._v(" Cerrar Sesión "),a("v-icon",[e._v("mdi-logout-variant")])],1)],1)]},proxy:!0}]),model:{value:e.sidebar,callback:function(t){e.sidebar=t},expression:"sidebar"}},[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.imagenSidebar}})],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.obtenerNombreAdmin))])],1)],1),a("v-divider"),e.esAdmin?e._l(e.items,(function(t){return a("v-list-item",{key:t.titulo,attrs:{link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icono))])],1),a("v-list-item-content",[a("v-list-item-title",{on:{click:function(a){return e.$router.push(t.ruta)}}},[e._v(e._s(t.titulo))])],1)],1)})):e._l(e.itemsObservador,(function(t){return a("v-list-item",{key:t.titulo,attrs:{link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icono))])],1),a("v-list-item-content",[a("v-list-item-title",{on:{click:function(a){return e.$router.push(t.ruta)}}},[e._v(e._s(t.titulo))])],1)],1)}))],2)],1),a("v-app-bar",{staticClass:"px-5",attrs:{app:"",color:"primary",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.sidebar=!e.sidebar}}}),a("v-toolbar-title",[e._v("Bienvenido "+e._s(e.obtenerNombreAdmin))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",title:"Cerrar Sesión"},on:{click:e.logout}},[a("v-icon",[e._v("mdi-export")])],1)],1)],1)},s=[],c={name:"Sidebar",data:function(){return{sidebar:!1,items:[{titulo:"Clientes",icono:"mdi-account-multiple",ruta:"/"},{titulo:"Autores",icono:"mdi-account-edit",ruta:"/autor"},{titulo:"Categorias",icono:"mdi-bookmark-multiple",ruta:"/categoria"},{titulo:"Noticias",icono:"mdi-earth",ruta:"/noticia"},{titulo:"Equipos",icono:"mdi-account-group",ruta:"/equipo"},{titulo:"Apuestas",icono:"mdi-trophy",ruta:"/apuesta"},{titulo:"Apuestas del cliente",icono:"mdi-medal-outline",ruta:"/apuesta-cliente"},{titulo:"Seguimientos",icono:"mdi-account-heart",ruta:"/seguimiento"},{titulo:"Recargas",icono:"mdi-currency-usd",ruta:"/solicitud-recargas"},{titulo:"Contactos",icono:"mdi-forum",ruta:"/contacto"},{titulo:"Usuarios",icono:"mdi-shield-account-outline",ruta:"/usuarios"}],itemsObservador:[{titulo:"Clientes",icono:"mdi-account-multiple",ruta:"/"},{titulo:"Apuestas del cliente",icono:"mdi-medal-outline",ruta:"/apuesta-cliente"},{titulo:"Noticias",icono:"mdi-earth",ruta:"/noticia"},{titulo:"Seguimientos",icono:"mdi-account-heart",ruta:"/seguimiento"},{titulo:"Contactos",icono:"mdi-forum",ruta:"/contacto"},{titulo:"Equipos",icono:"mdi-account-group",ruta:"/equipo"},{titulo:"Apuestas",icono:"mdi-trophy",ruta:"/apuesta"}]}},computed:{obtenerNombreAdmin:function(){return this.$store.getters.nombreAdmin},esAdmin:function(){return this.$store.getters.esAdmin},imagenSidebar:function(){return this.esAdmin?a("059c"):a("e3d0")}},methods:{logout:function(){this.$store.dispatch("logout")}}},l=c,u=(a("2dae"),a("2877")),d=a("6544"),m=a.n(d),p=a("40dc"),v=a("5bc1"),f=a("8336"),b=a("ce7e"),g=a("132d"),h=a("adda"),x=a("8860"),C=a("da13"),_=a("8270"),k=a("5d23"),A=a("34c3"),w=a("f774"),y=a("2fa4"),E=a("2a7f"),V=Object(u["a"])(l,n,s,!1,null,null,null),q=V.exports;m()(V,{VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:f["a"],VDivider:b["a"],VIcon:g["a"],VImg:h["a"],VList:x["a"],VListItem:C["a"],VListItemAvatar:_["a"],VListItemContent:k["a"],VListItemIcon:A["a"],VListItemTitle:k["b"],VNavigationDrawer:w["a"],VSpacer:y["a"],VToolbarTitle:E["a"]});var S={components:{Sidebar:q},name:"App",data:function(){return{}},created:function(){this.$store.dispatch("obtenerUsuario")},computed:{renderizadoSidebar:function(){return this.$store.state.estaAutenticado}}},R=S,j=(a("f430"),a("7496")),T=a("f6c4"),O=Object(u["a"])(R,i,o,!1,null,"05a752bf",null),$=O.exports;m()(O,{VApp:j["a"],VMain:T["a"]});var B=a("8c4f"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",{staticClass:"mt-5"},[e.loading?a("div",[a("Spinner")],1):[e.clientes.length?[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:"teal darken-1 text-uppercase"},[a("th",{staticClass:"white--text text-left"},[e._v("#ID")]),a("th",{staticClass:"white--text text-left"},[e._v("Nombre")]),a("th",{staticClass:"white--text text-left"},[e._v("Correo")]),a("th",{staticClass:"white--text text-left"},[e._v("Coins")]),e.esAdmin?[a("th",{staticClass:"white--text text-left"},[e._v("Acciones")])]:e._e()],2)]),a("tbody",e._l(e.clientes,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.correo))]),a("td",[e._v(e._s(t.coins)+" "),a("small",[e._v("Coins")])]),e.esAdmin?[a("td",[a("v-btn",{attrs:{loading:e.deshabilitado,fab:"",dark:"",small:"",color:"error",title:"Eliminar Cliente"}},[a("v-icon",{attrs:{dark:""},on:{click:function(a){return e.eliminarCliente(t.id,t.nombre)}}},[e._v(" mdi-account-minus")])],1),a("v-btn",{staticClass:"ml-2",attrs:{loading:e.deshabilitado,fab:"",dark:"",small:"",color:"info",title:"Cambiar Clave"}},[a("v-icon",{attrs:{dark:""},on:{click:function(a){return e.abrirModalClave(t.id)}}},[e._v(" mdi-lock ")])],1)],1)]:e._e()],2)})),0)]},proxy:!0}],null,!1,1688300495)})]:[a("h3",{staticClass:"text--darken-3 text-center"},[e._v(" No existen clientes registrados. "),a("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-account-multiple ")])],1)]]],2),a("ModalCambiarClave",{attrs:{mostrarModal:e.abrirModal,clienteID:e.cliente&&e.cliente},on:{cerrar:e.cerrarModal}})],1)},N=[],L=a("1da1"),M=(a("96cf"),a("3d20")),F=a.n(M),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mostrarModal,callback:function(t){e.mostrarModal=t},expression:"mostrarModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Cambiar Clave")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Clave",required:"",type:e.botonClave.type,"append-icon":"mdi-lock",hint:"Minimo de 6 carácteres.",rules:e.reglas},model:{value:e.nuevaClave.clave,callback:function(t){e.$set(e.nuevaClave,"clave","string"===typeof t?t.trim():t)},expression:"nuevaClave.clave"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Confirmar clave",hint:"La contraseña debe ser iguales","append-icon":"mdi-lock",required:"",type:e.botonClave.type,rules:e.reglas},model:{value:e.nuevaClave.confirmar,callback:function(t){e.$set(e.nuevaClave,"confirmar","string"===typeof t?t.trim():t)},expression:"nuevaClave.confirmar"}})],1)],1)],1)],1),a("small",{staticClass:"primary--text"},[e._v("La cláve debe tener minimo 6 carácteres.")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{loading:e.deshabilitado,title:"Cerrar",dark:"",color:"error"},on:{click:e.cerrarModal}},[a("v-icon",[e._v("mdi-close-circle")])],1),a("v-btn",{staticClass:"mx-2",attrs:{title:"text"===e.botonClave.type?"Ocultar clave":"Ver clave",loading:e.deshabilitado,dark:"",color:"teal"},on:{click:e.toggleClave}},[a("v-icon",[e._v(e._s(e.botonClave.icono)+" ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{title:"Cambiar Clave",loading:e.deshabilitado,dark:"",color:"primary"},on:{click:e.ejecutarModal}},[a("v-icon",[e._v("mdi-account-key-outline")])],1)],1)],1)],1)],1)},U=[],z=(a("a9e3"),{name:"ModalCambiarClave",data:function(){return{deshabilitado:!1,nuevaClave:{clave:"",confirmar:""},botonClave:{type:"password",icono:"mdi-eye"},reglas:[function(e){return!!e||"El campo es obligatorio."},function(e){return e.length>=6||"La clave debe ser minimo 6 carácteres."}]}},props:{mostrarModal:{type:Boolean},clienteID:{type:Number},usuarioID:{type:Number}},methods:{mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},cerrarModal:function(){this.$emit("cerrar"),this.limpiarModal()},toggleClave:function(){"password"===this.botonClave.type?(this.botonClave.type="text",this.botonClave.icono="mdi-eye"):(this.botonClave.type="password",this.botonClave.icono="mdi-eye-off")},validarClave:function(){return this.nuevaClave.clave.length&&this.nuevaClave.confirmar.length?this.nuevaClave.clave.length<6||this.nuevaClave.confirmar.length<6?(this.mostrarAlerta("error","La cláve debe de tener una longitud minima de 6 carácteres."),this.$refs.form.validate(),!1):this.nuevaClave.clave===this.nuevaClave.confirmar||(this.mostrarAlerta("error","Las cláves deben ser iguales."),this.$refs.form.validate(),!1):(this.mostrarAlerta("error","Las cláves son requeridas."),this.$refs.form.validate(),!1)},cambiarClave:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deshabilitado=!0,a=null,a=e.clienteID?"/actualizar-claveCliente/".concat(e.clienteID):"/actualizar-claveUsuario/".concat(e.usuarioID),t.prev=3,t.next=6,e.axios.put(a,e.nuevaClave);case 6:r=t.sent,i=r.data,e.mostrarAlerta("success",i.msg),e.$emit("cerrar"),e.limpiarModal(),e.deshabilitado=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](3),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},limpiarModal:function(){this.$refs.form.resetValidation(),this.nuevaClave={clave:"",confirmar:""}},ejecutarModal:function(){var e=this.validarClave();e&&this.cambiarClave()}}}),P=z,J=a("b0af"),Q=a("99d9"),G=a("62ad"),H=a("a523"),Y=a("169a"),K=a("4bd4"),W=a("0fd9"),X=a("8654"),Z=Object(u["a"])(P,I,U,!1,null,null,null),ee=Z.exports;m()(Z,{VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDialog:Y["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center mt-15",attrs:{cols:"8"}},[a("v-progress-circular",{attrs:{size:50,width:4,color:"primary",indeterminate:""}})],1)],1)],1)},ae=[],re={name:"Spinner"},ie=re,oe=a("490a"),ne=Object(u["a"])(ie,te,ae,!1,null,null,null),se=ne.exports;m()(ne,{VCol:G["a"],VContainer:H["a"],VProgressCircular:oe["a"],VRow:W["a"]});var ce={name:"Home",components:{ModalCambiarClave:ee,Spinner:se},data:function(){return{cliente:null,clientes:[],loading:!0,deshabilitado:!1,abrirModal:!1}},computed:{esAdmin:function(){return this.$store.getters.esAdmin}},methods:{cerrarModal:function(){this.abrirModal=!1,this.cliente=null},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},abrirModalClave:function(e){this.abrirModal=!0,this.cliente=e},eliminarCliente:function(e,t){var a=this;F.a.fire({title:"Eliminar cliente",text:"¿Estas seguro en eliminar el cliente ".concat(t,"? Al eliminar el cliente se removeran sus apuestas, seguimientos y solicitudes de recarga."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#009688",cancelButtonText:"No, cancelar",confirmButtonText:"Si, Eliminar"}).then(function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(r){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.isConfirmed){t.next=9;break}return a.deshabilitado=!0,t.next=4,a.axios.delete("/eliminar-cliente/".concat(e));case 4:i=t.sent,o=i.data,a.deshabilitado=!1,a.mostrarAlerta("success",o.msg),a.obtenerClientes();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a.deshabilitado=!1,a.mostrarAlerta("error",e.response.data.msg)}))},obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.axios.get("/obtener-clientes");case 4:a=t.sent,r=a.data,e.clientes=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}},mounted:function(){this.obtenerClientes()}},le=ce,ue=(a("37d6"),a("1f4f")),de=Object(u["a"])(le,D,N,!1,null,"8dc5ad04",null),me=de.exports;m()(de,{VApp:j["a"],VBtn:f["a"],VContainer:H["a"],VIcon:g["a"],VSimpleTable:ue["a"]});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{staticClass:"v-main__wrap"},[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-card",{staticClass:"elevation-12"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-card-text",{staticClass:"mt-12"},[a("h1",{staticClass:"text-center display-2 teal--text text--primary-3"},[e._v(" Iniciar sesión ")]),a("h4",{staticClass:"text-center mt-4"},[e._v(" Ingresa al panel administrativo ")]),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("v-text-field",{attrs:{label:"Usuario","prepend-icon":"mdi-shield-account",type:"text",rules:e.rules,color:"teal accent-3"},model:{value:e.login.usuario,callback:function(t){e.$set(e.login,"usuario","string"===typeof t?t.trim():t)},expression:"login.usuario"}}),a("v-text-field",{attrs:{label:"Contraseña","prepend-icon":"mdi-lock",type:"password",rules:e.rules,color:"teal accent-3"},model:{value:e.login.clave,callback:function(t){e.$set(e.login,"clave",t)},expression:"login.clave"}}),e.error.length?a("div",[a("p",{staticClass:"red--text text-center"},[e._v(" "+e._s(e.error)+" ")])]):e._e(),a("div",{staticClass:"text-center mt-3"},[a("v-btn",{attrs:{loading:e.deshabilitado,type:"submit",rounded:"",color:"primary accent-3",dark:""}},[e._v("Iniciar Sesión "),a("v-icon",[e._v("mdi-account-lock")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])},ve=[],fe={name:"Login",data:function(){return{login:{usuario:"",clave:""},error:"",deshabilitado:!1,rules:[function(e){return!!e||"El campo es obligatorio."}]}},methods:{mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},submitForm:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.deshabilitado=!0,e.error="",e.login.usuario&&e.login.clave){t.next=6;break}return e.$refs.form.validate(),e.deshabilitado=!1,t.abrupt("return",e.error="Todos los datos son necesarios.");case 6:return t.prev=6,t.next=9,e.axios.post("/login-usuario",e.login);case 9:a=t.sent,r=a.data,e.deshabilitado=!1,e.mostrarAlerta("success","Has iniciado sesión correctamente."),e.$store.dispatch("establecerDatos",r),e.$router.push("/"),t.next=23;break;case 17:t.prev=17,t.t0=t["catch"](6),e.$refs.form.resetValidation(),e.mostrarAlerta("error",t.t0.response.data.msg),e.deshabilitado=!1,e.form={usuario:"",clave:""};case 23:case"end":return t.stop()}}),t,null,[[6,17]])})))()}}},be=fe,ge=(a("8a72"),Object(u["a"])(be,pe,ve,!1,null,"7462ca2c",null)),he=ge.exports;m()(ge,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCardText:Q["b"],VCol:G["a"],VContainer:H["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VTextField:X["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.tablaLabel,items:e.autores,search:e.busqueda,"sort-by":"fecha","no-results-text":e.sinResultados},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Autores")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-account-search",label:"Buscar autor","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"teal darken-1 ",dark:"",fab:"",small:""}},"v-btn",i,!1),r),[a("v-icon",[e._v(" mdi-plus ")])],1)]}}]),model:{value:e.modalAutor,callback:function(t){e.modalAutor=t},expression:"modalAutor"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.tituloForm))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.reglas,loading:e.deshabilitado,"append-icon":"mdi-account-box",label:"Nombre del autor",hint:"El nombre del autor debe ser único."},model:{value:e.autor.nombre,callback:function(t){e.$set(e.autor,"nombre","string"===typeof t?t.trim():t)},expression:"autor.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.reglas,loading:e.deshabilitado,"append-icon":"mdi-earth",label:"País del autor"},model:{value:e.autor.pais,callback:function(t){e.$set(e.autor,"pais","string"===typeof t?t.trim():t)},expression:"autor.pais"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{title:"Cerrar",loading:e.deshabilitado,medium:"",dark:"",color:"error"},on:{click:e.cerraModal}},[a("v-icon",[e._v("mdi-close")])],1),a("v-btn",{attrs:{title:e.tituloForm,loading:e.deshabilitado,color:e.editar?"teal":"primary",dark:"",medium:""},on:{click:e.enviarAutorAccion}},[a("v-icon",[e._v(" "+e._s(e.iconBoton)+" ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{fab:"",small:"",color:"primary",loading:e.deshabilitado},on:{click:function(t){return e.editarAutor(r)}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil ")])],1),a("v-btn",{staticClass:"ml-2",attrs:{fab:"",small:"",color:"error",loading:e.deshabilitado},on:{click:function(t){return e.eliminarAutor(r)}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-delete ")])],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.obtenerAutores}},[e._v(" Obtener autores"),a("v-icon",[e._v("mdi-reload")])],1)]},proxy:!0}],null,!0)})],1)],1)},Ce=[],_e=(a("d81d"),a("4de4"),{name:"Autor",components:{Spinner:se},data:function(){return{loading:!0,deshabilitado:!1,busqueda:"",autores:[],modalAutor:!1,reglas:[function(e){return!!e||"El campo es obligatorio."}],tablaLabel:[{sortable:!1},{text:"#ID",value:"id"},{text:"Nombre",value:"nombre"},{text:"País",value:"pais"},{text:"Fecha de modificación",value:"fecha"},{text:"Acciones",value:"actions",sortable:!1}],editar:!1,autor:{nombre:"",pais:""},sinResultados:"No existen autores que coincidan con la búsqueda."}},computed:{tituloForm:function(){return this.editar?"Editar Autor":"Crear Autor"},iconBoton:function(){return this.editar?"mdi-account-edit":"mdi-account-plus"}},watch:{modalAutor:function(e){e||this.cerraModal()}},created:function(){this.obtenerAutores()},methods:{fechaConFormato:function(e){return new Date(e).toLocaleString()},obtenerAutores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.axios.get("/obtener-autores");case 4:a=t.sent,r=a.data,e.autores=r.map((function(t){return{id:t.id,nombre:t.nombre,pais:t.pais,fecha:e.fechaConFormato(t.fecha)}})),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},editarAutor:function(e){this.editar=!0,this.autor=Object.assign({},e),this.modalAutor=!0},eliminarAutor:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:F.a.fire({title:"Eliminar autor",text:"¿Estas seguro en eliminar el autor ".concat(e.nombre,"? Al eliminar el autor se borraran sus notícias."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#009688",cancelButtonText:"No, cancelar",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-autor/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.autores=t.autores.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}));case 1:case"end":return a.stop()}}),a)})))()},cerraModal:function(){var e=this;this.modalAutor=!1,this.editar=!1,this.$refs.form.resetValidation(),this.$nextTick((function(){e.autor={nombre:"",pais:""}}))},actualizarAutor:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.nombre.length&&e.pais.length){a.next=3;break}return t.$refs.form.validate(),a.abrupt("return",t.mostrarAlerta("error","Todos los campos son obligatorios."));case 3:return a.prev=3,t.deshabilitado=!0,r=JSON.parse(JSON.stringify(e)),r.fecha=new Date,a.next=9,t.axios.put("/actualizar-autor/".concat(e.id),r);case 9:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.obtenerAutores(),t.deshabilitado=!1,t.cerraModal(),a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](3),t.deshabilitado=!1,t.mostrarAlerta("error",a.t0.response.data.msg);case 21:case"end":return a.stop()}}),a,null,[[3,17]])})))()},crearAutor:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,e.nombre.length&&e.pais.length){a.next=4;break}return t.$refs.form.validate(),a.abrupt("return",t.mostrarAlerta("error","Todos los campos son obligatorios."));case 4:return t.deshabilitado=!0,a.next=7,t.axios.post("/crear-autor",e);case 7:r=a.sent,i=r.data,t.mostrarAlerta("success",i.msg),t.deshabilitado=!1,t.obtenerAutores(),t.autor={nombre:"",pais:""},t.cerraModal(),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](0),t.deshabilitado=!1,t.mostrarAlerta("error",a.t0.response.data.msg);case 20:case"end":return a.stop()}}),a,null,[[0,16]])})))()},enviarAutorAccion:function(){this.editar?this.actualizarAutor(this.autor):this.crearAutor(this.autor)}}}),ke=_e,Ae=a("8fea"),we=a("71d9"),ye=Object(u["a"])(ke,xe,Ce,!1,null,null,null),Ee=ye.exports;m()(ye,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.valorTablaCategoria,items:e.categorias,search:e.busquedaCategoria,"sort-by":"id","no-results-text":e.noEncontrado},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Categorías")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-folder-search",label:"Buscar categoría","single-line":"","hide-details":""},model:{value:e.busquedaCategoria,callback:function(t){e.busquedaCategoria=t},expression:"busquedaCategoria"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary darken-2 ",dark:"",title:"Agregar nueva categoría",fab:"",small:""}},"v-btn",i,!1),r),[a("v-icon",[e._v(" mdi-folder-plus ")])],1)]}}]),model:{value:e.modalCategoria,callback:function(t){e.modalCategoria=t},expression:"modalCategoria"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(" "+e._s(e.esEditar?"Editar":"Agregar")+" Categoría")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.reglas,loading:e.deshabilitado,"append-icon":"mdi-folder",label:"Tipo de categoría",hint:"El tipo de la categoría debe ser único. Ej Fútbol."},model:{value:e.categoria.nombre,callback:function(t){e.$set(e.categoria,"nombre","string"===typeof t?t.trim():t)},expression:"categoria.nombre"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{medium:"",dark:"",title:"Cerrar modal",color:"error",loading:e.deshabilitado},on:{click:e.cerrarModal}},[a("v-icon",[e._v(" mdi-close ")])],1),a("v-btn",{attrs:{dark:"",color:e.esEditar?"primary":"teal",title:e.esEditar?"Editar Categoría":"Crear Categoría",loading:e.deshabilitado},on:{click:e.guardarCategoria}},[a("v-icon",[e._v(" "+e._s(e.esEditar?"mdi-folder-edit":" mdi-folder-plus")+" ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{small:"",title:"Editar categoría",loading:e.deshabilitado},on:{click:function(t){return e.editarCategoria(r)}}},[a("v-icon",{staticClass:"primary--text",attrs:{small:""}},[e._v(" mdi-folder-edit ")])],1),a("v-btn",{staticClass:"ml-2",attrs:{small:"",title:"Eliminar categoría",loading:e.deshabilitado},on:{click:function(t){return e.eliminarCategoria(r)}}},[a("v-icon",{staticClass:"error--text",attrs:{small:""}},[e._v(" mdi-delete-circle ")])],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"teal dark-2 white--text my-3"},on:{click:e.obtenerCategorias}},[e._v(" Categorías vacías. "),a("v-icon",[e._v("mdi-reload")])],1)]},proxy:!0}],null,!0)})],1)],1)},qe=[],Se={name:"Categoria",components:{Spinner:se},data:function(){return{esEditar:!1,busquedaCategoria:"",loading:!1,deshabilitado:!1,valorTablaCategoria:[{sortable:!0},{text:"#ID",value:"id"},{text:"Nombre",value:"nombre"},{text:"Fecha de modificación",value:"fecha"},{text:"Acciones",value:"actions",sortable:!1}],reglas:[function(e){return!!e||"El campo es obligatorio."}],categorias:[],categoria:{nombre:""},modalCategoria:!1,noEncontrado:"No se han encontrado categorías que coincidan con la búsqueda."}},watch:{modalCategoria:function(e){e||this.cerrarModal()}},methods:{eliminarCategoria:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:F.a.fire({title:"Eliminar categoría",text:"¿Estas seguro en eliminar la categoría ".concat(e.nombre,"? Al eliminar la categoría se borraran las noticias que pertenece."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#2196F3",cancelButtonText:"No, Cerrar modal",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-categoria/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.categorias=t.categorias.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}));case 1:case"end":return a.stop()}}),a)})))()},guardarCategoria:function(){this.esEditar?this.actualizarCategoria(this.categoria):this.crearCategoria()},cerrarModal:function(){this.modalCategoria=!1,this.$refs.form.resetValidation(),this.esEditar=!1,this.categoria={nombre:""}},crearCategoria:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.categoria.nombre.length){t.next=3;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Debes escribir el típo de categoría a registrar."));case 3:return t.prev=3,e.deshabilitado=!0,t.next=7,e.axios.post("/crear-categoria",e.categoria);case 7:a=t.sent,r=a.data,e.deshabilitado=!1,e.mostrarAlerta("success",r.msg),e.obtenerCategorias(),e.cerrarModal(),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()},actualizarCategoria:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.deshabilitado=!0,e.fecha=new Date,a.next=5,t.axios.put("actualizar-categoria/".concat(e.id),e);case 5:r=a.sent,i=r.data,t.mostrarAlerta("success",i.msg),t.deshabilitado=!1,t.obtenerCategorias(),t.cerrarModal(),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),t.deshabilitado=!1,t.mostrarAlerta("error",a.t0.response.data.msg);case 17:case"end":return a.stop()}}),a,null,[[0,13]])})))()},editarCategoria:function(e){this.esEditar=!0,Object.assign(this.categoria,e),this.modalCategoria=!0},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},formatearFecha:function(e){return e.map((function(e){var t=e.id,a=e.nombre,r=e.fecha;return{id:t,nombre:a,fecha:new Date(r).toLocaleString()}}))},obtenerCategorias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-categorias");case 4:a=t.sent,r=a.data,e.categorias=e.formatearFecha(r),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},mounted:function(){this.obtenerCategorias()}},Re=Se,je=Object(u["a"])(Re,Ve,qe,!1,null,null,null),Te=je.exports;m()(je,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[e.loading?a("div",[a("Spinner")],1):[e.esAdmin?[a("v-container",{staticClass:"my-5"},[a("v-row",{staticClass:"flex align-center justify-space-between"},[a("v-col",{staticClass:"justify-start",attrs:{cols:"12 text-center",sm:"4"}}),a("v-col",{staticClass:"justify-end",attrs:{cols:"12 text-center",sm:"4"}},[a("v-btn",{attrs:{color:"primary darken-1 ",elevation:"2",fab:"",medium:""},on:{click:function(t){return e.$router.push("/crear-noticia")}}},[a("v-icon",{attrs:{dark:"",medium:""}},[e._v(" mdi-earth-plus ")])],1)],1)],1)],1)]:e._e(),e.noticias.length?[a("v-simple-table",{staticClass:"mb-5",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:"primary darken-1"},[a("th",{staticClass:"white--text text-left"},[e._v("Titulo")]),a("th",{staticClass:"white--text text-left"},[e._v("Autor")]),a("th",{staticClass:"white--text text-left"},[e._v("Categoria")]),a("th",{staticClass:"white--text text-left"},[e._v("Descripción")]),a("th",{staticClass:"white--text text-left"},[e._v("Fecha")]),a("th",{staticClass:"white--text text-left"},[e._v("Imagen")]),e.esAdmin?[a("th",{staticClass:"white--text text-left"},[e._v("Acciones")])]:e._e()],2)]),a("tbody",e._l(e.noticias,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.titulo.substring(0,13))+"...")]),a("td",[e._v(e._s(t.id_autor))]),a("td",[e._v(e._s(t.id_categoria))]),a("td",[e._v(" "+e._s(t.descripcion.substring(0,10))+" "),a("small",[e._v("...")])]),a("td",[e._v(e._s(e.fechaConFormato(t.fecha)))]),a("td",{staticClass:"ocultar-noticia"},[a("img",{staticClass:"imagen-noticia",attrs:{src:t.url_imagen,alt:"imagen-noticia"}})]),e.esAdmin?[a("td",[a("v-btn",{attrs:{loading:e.deshabilitado,fab:"",dark:"",small:"",color:"error",title:"Eliminar Noticia"},on:{click:function(a){return e.eliminarNoticia(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-earth-minus")])],1),a("v-btn",{staticClass:"ml-2",attrs:{loading:e.deshabilitado,fab:"",dark:"",small:"",color:"info",title:"Editar Noticia"},on:{click:function(a){return e.$router.push("/editar-noticia/"+t.id)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-earth-arrow-right ")])],1)],1)]:e._e()],2)})),0)]},proxy:!0}],null,!1,3000903745)})]:[a("h3",{staticClass:"text--darken-3 text-center"},[e._v(" No existen noticias registradas. "),a("v-icon",{attrs:{color:"teal"}},[e._v(" mdi-earth ")])],1)]]],2)],1)},$e=[],Be={name:"Noticias",components:{Spinner:se},data:function(){return{loading:!1,deshabilitado:!1,noticias:[]}},computed:{esAdmin:function(){return this.$store.getters.esAdmin}},methods:{eliminarNoticia:function(e){var t=this;F.a.fire({title:"Eliminar noticia",text:"¿Estas seguro en eliminar la noticia con titulo: ".concat(e.titulo,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#2196F3",cancelButtonText:"No, Cerrar modal",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-noticia/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.obtenerNoticias(),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},fechaConFormato:function(e){var t=new Date(e);return t.toLocaleDateString()},obtenerNoticias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-noticias");case 4:a=t.sent,r=a.data,e.noticias=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.error("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},created:function(){this.obtenerNoticias()}},De=Be,Ne=(a("8d62"),Object(u["a"])(De,Oe,$e,!1,null,"2d0f526b",null)),Le=Ne.exports;m()(Ne,{VApp:j["a"],VBtn:f["a"],VCol:G["a"],VContainer:H["a"],VIcon:g["a"],VRow:W["a"],VSimpleTable:ue["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("spinner")],1):a("section",[a("v-container",[a("v-row",{staticClass:"flex align-center justify-space-between"},[a("v-col",{staticClass:"justify-end",attrs:{cols:"12 text-center",sm:"4"}},[a("v-btn",{attrs:{color:"info darken-1 ",medium:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",{attrs:{dark:"",medium:""}},[e._v(" mdi-arrow-left-thick ")])],1)],1),a("v-col",{staticClass:"justify-start",attrs:{cols:"12 text-center",sm:"4"}})],1)],1),a("section",{staticClass:"mt-8"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10",sm:"12",md:"6"}},[a("v-card",{staticClass:"padding"},[a("v-form",{ref:"form",staticClass:"p-5",on:{submit:function(t){return t.preventDefault(),e.CrearNoticia.apply(null,arguments)}}},[a("v-text-field",{attrs:{"append-icon":"mdi-format-title",loading:e.deshabilitado,rules:e.reglaTitulo,label:"Titulo de la noticia",required:""},model:{value:e.noticia.titulo,callback:function(t){e.$set(e.noticia,"titulo","string"===typeof t?t.trim():t)},expression:"noticia.titulo"}}),a("v-autocomplete",{attrs:{"append-icon":"mdi-folder",loading:e.deshabilitado,rules:e.reglas,items:e.selectCategorias,label:"Categoría de la noticia",placeholder:"Seleccionar o buscar categoría","no-data-text":"Categoría no encontrada.",chips:"","allow-overflow":!1},model:{value:e.noticia.categoria,callback:function(t){e.$set(e.noticia,"categoria",t)},expression:"noticia.categoria"}}),a("v-text-field",{attrs:{loading:e.deshabilitado,"append-icon":"mdi-image-size-select-actual",rules:e.reglas,type:"url",label:"Enlace de la imagen",required:"",hint:"El enlace debe ser https://enlaceimagen.com"},model:{value:e.noticia.url_imagen,callback:function(t){e.$set(e.noticia,"url_imagen","string"===typeof t?t.trim():t)},expression:"noticia.url_imagen"}}),a("v-select",{attrs:{loading:e.deshabilitado,rules:e.reglas,"append-icon":"mdi-account-details-outline",items:e.selectAutores,label:"Autor de la noticia",placeholder:"Seleccionar autor","no-data-text":"Este autor no existe.","allow-overflow":!1},model:{value:e.noticia.autor,callback:function(t){e.$set(e.noticia,"autor",t)},expression:"noticia.autor"}}),a("v-textarea",{attrs:{outlined:"",clearable:"","clear-icon":"mdi-close-circle",value:"Elimina la descricpción de la noticia.",counter:"","append-icon":"mdi-newspaper-variant-outline","auto-grow":"",rows:"4",loading:e.deshabilitado,rules:e.reglasDescripcion,label:"Descripción de la noticia",required:""},model:{value:e.noticia.descripcion,callback:function(t){e.$set(e.noticia,"descripcion","string"===typeof t?t.trim():t)},expression:"noticia.descripcion"}}),e.noticia.url_imagen&&e.noticia.url_imagen.length?a("div",{staticClass:"text-center"},[a("img",{staticClass:"imagen-formulario",attrs:{src:e.noticia.url_imagen,alt:"imagen-noticia"}})]):e._e(),a("v-btn",{staticClass:"mt-3",attrs:{loading:e.deshabilitado,type:"submit",rounded:"",block:"",dark:"",color:"teal"}},[e._v(" Crear noticia "),a("v-icon",[e._v("mdi-earth-plus")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])},Fe=[],Ie=a("3835"),Ue=(a("d3b7"),a("3ca3"),a("ddb0"),{components:{Spinner:se},name:"CrearNoticia",data:function(){return{deshabilitado:!1,loading:!1,reglas:[function(e){return!!e||"El campo es obligatorio."}],reglasDescripcion:[function(e){return!!e||"El campo es obligatorio."},function(e){var t;return(null===(t=String(e))||void 0===t?void 0:t.length)<=2e3||"La descripción no debe ser mayor a 2000 carácteres."}],reglaTitulo:[function(e){return!!e||"El campo es obligatorio."},function(e){return e.length<=50||"La descripción no debe ser mayor a 50 carácteres."}],categorias:[],autores:[],selectAutores:[],selectCategorias:[],noticia:{titulo:"",autor:"",categoria:"",url_imagen:"",descripcion:""}}},created:function(){this.obtenerDatosSelect()},methods:{obtenerDatosSelect:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.obtenerAutores(),e.obtenerCategorias()]);case 2:case"end":return t.stop()}}),t)})))()},CrearNoticia:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.noticia.titulo.length&&e.noticia.url_imagen.length&&e.noticia.descripcion.length&&e.noticia.categoria.length&&e.noticia.categoria&&e.noticia.autor.length&&e.noticia.autor){t.next=3;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Todos los campos son obligatorios para crear una noticia."));case 3:if(!(e.noticia.titulo.length>50)){t.next=5;break}return t.abrupt("return",e.mostrarAlerta("error","El titulo no puede ser mayor a 50 carácteres. "));case 5:if(!(e.noticia.descripcion.length>2e3)){t.next=7;break}return t.abrupt("return",e.mostrarAlerta("error","La descripción no puede ser mayor a 2000 carácteres. "));case 7:return a=e.autores.filter((function(t){return t.nombre===e.noticia.autor})),r=Object(Ie["a"])(a,1),i=r[0],o=e.categorias.filter((function(t){return t.nombre===e.noticia.categoria})),n=Object(Ie["a"])(o,1),s=n[0],c=JSON.parse(JSON.stringify(e.noticia)),c.id_autor=i.id,c.id_categoria=s.id,t.prev=12,e.deshabilitado=!0,t.next=16,e.axios.post("/crear-noticia",c);case 16:l=t.sent,u=l.data,e.mostrarAlerta("success",u.msg),e.$refs.form.resetValidation(),e.noticia={titulo:"",autor:"",categoria:"",url_imagen:"",descripcion:""},e.deshabilitado=!1,setTimeout((function(){e.$router.push("/noticia")}),2e3),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](12),e.mostrarAlerta("error",t.t0.response.data.msg),e.deshabilitado=!1;case 29:case"end":return t.stop()}}),t,null,[[12,25]])})))()},obtenerAutores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-autores");case 4:a=t.sent,r=a.data,e.autores=r,e.selectAutores=r.map((function(e){return e.nombre})),e.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg),e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},obtenerCategorias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-categorias");case 4:a=t.sent,r=a.data,e.categorias=r,i=r.map((function(e){return e.nombre})),e.selectCategorias=i,e.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}}),ze=Ue,Pe=(a("5127"),a("c6a6")),Je=a("b974"),Qe=a("a844"),Ge=Object(u["a"])(ze,Me,Fe,!1,null,null,null),He=Ge.exports;m()(Ge,{VApp:j["a"],VAutocomplete:Pe["a"],VBtn:f["a"],VCard:J["a"],VCol:G["a"],VContainer:H["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSelect:Je["a"],VTextField:X["a"],VTextarea:Qe["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("spinner")],1):a("section",[a("v-container",[a("v-row",{staticClass:"flex align-center justify-space-between"},[a("v-col",{staticClass:"justify-end",attrs:{cols:"12 text-center",sm:"4"}},[a("v-btn",{attrs:{fab:"",color:"teal darken-1 ",medium:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",{staticClass:"white--text",attrs:{medium:""}},[e._v(" mdi-arrow-left-circle ")])],1)],1),a("v-col",{staticClass:"justify-start",attrs:{cols:"12 text-center",sm:"4"}})],1)],1),a("section",{staticClass:"mt-8 mb-3"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10",sm:"12",md:"6"}},[a("v-card",{staticClass:"padding"},[a("v-form",{ref:"form",staticClass:"p-5",on:{submit:function(t){return t.preventDefault(),e.actualizarNoticia.apply(null,arguments)}}},[a("v-text-field",{attrs:{"append-icon":"mdi-format-title",loading:e.deshabilitado,rules:e.reglaTitulo,label:"Titulo de la noticia",required:""},model:{value:e.noticia.titulo,callback:function(t){e.$set(e.noticia,"titulo","string"===typeof t?t.trim():t)},expression:"noticia.titulo"}}),a("v-autocomplete",{attrs:{"append-icon":"mdi-folder",loading:e.deshabilitado,rules:e.reglas,items:e.selectCategorias,label:"Categoría de la noticia",placeholder:"Seleccionar o buscar categoría","no-data-text":"Categoría no encontrada.",chips:"","allow-overflow":!1},model:{value:e.noticia.categoria,callback:function(t){e.$set(e.noticia,"categoria",t)},expression:"noticia.categoria"}}),a("v-text-field",{attrs:{loading:e.deshabilitado,"append-icon":"mdi-image-size-select-actual",rules:e.reglas,type:"url",label:"Enlace de la imagen",required:"",hint:"El enlace debe ser https://enlaceimagen.com"},model:{value:e.noticia.url_imagen,callback:function(t){e.$set(e.noticia,"url_imagen","string"===typeof t?t.trim():t)},expression:"noticia.url_imagen"}}),a("v-select",{attrs:{rules:e.reglas,items:e.selectAutores,"append-icon":"mdi-account-details-outline",loading:e.deshabilitado,label:"Autor de la noticia",placeholder:"Seleccionar autor","no-data-text":"Este autor no existe.","allow-overflow":!1},model:{value:e.noticia.autor,callback:function(t){e.$set(e.noticia,"autor",t)},expression:"noticia.autor"}}),a("v-textarea",{attrs:{outlined:"",clearable:"","clear-icon":"mdi-close-circle",value:"Elimina la descricpción de la noticia.",counter:"","append-icon":"mdi-newspaper-variant","auto-grow":"",rows:"4",rules:e.reglasDescripcion,label:"Descripción de la noticia",required:""},model:{value:e.noticia.descripcion,callback:function(t){e.$set(e.noticia,"descripcion","string"===typeof t?t.trim():t)},expression:"noticia.descripcion"}}),e.noticia.url_imagen&&e.noticia.url_imagen.length?a("div",{staticClass:"text-center"},[a("img",{staticClass:"imagen-formulario",attrs:{src:e.noticia.url_imagen,alt:"imagen-noticia"}})]):e._e(),a("v-btn",{staticClass:"mt-3",attrs:{loading:e.deshabilitado,type:"submit",rounded:"",block:"",dark:"",color:"primary"}},[e._v(" Actualizar noticia "),a("v-icon",[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])},Ke=[],We={components:{Spinner:se},name:"NoticiaEditar",data:function(){return{deshabilitado:!1,loading:!1,reglas:[function(e){return!!e||"El campo es obligatorio."}],reglasDescripcion:[function(e){return!!e||"El campo es obligatorio."},function(e){var t;return(null===(t=String(e))||void 0===t?void 0:t.length)<=2e3||"La descripción no debe ser mayor a 2000 carácteres."}],reglaTitulo:[function(e){return!!e||"El campo es obligatorio."},function(e){return e.length<=50||"La descripción no debe ser mayor a 50 carácteres."}],categorias:[],autores:[],selectAutores:[],selectCategorias:[],noticia:{titulo:"",autor:"",categoria:"",url_imagen:"",descripcion:""}}},created:function(){this.obtenerDatosNoticia()},methods:{obtenerDatosNoticia:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.obtenerAutores(),e.obtenerCategorias(),e.obtenerNoticia()]);case 2:case"end":return t.stop()}}),t)})))()},obtenerNoticia:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-noticia/".concat(e.$route.params.noticiaID));case 4:a=t.sent,r=a.data,i=Object(Ie["a"])(r,1),o=i[0],n={id:o.id,titulo:o.titulo,descripcion:o.descripcion,autor:o.id_autor,categoria:o.id_categoria,url_imagen:o.url_imagen},e.noticia=n,e.loading=!1,t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg),setTimeout((function(){e.$router.push("/noticia")}),2e3);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()},actualizarNoticia:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.noticia.titulo.length&&e.noticia.url_imagen.length&&e.noticia.descripcion.length&&e.noticia.categoria.length&&e.noticia.categoria&&e.noticia.autor.length&&e.noticia.autor){t.next=3;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Todos los campos son obligatorios para crear una noticia."));case 3:if(!(e.noticia.titulo.length>50)){t.next=5;break}return t.abrupt("return",e.mostrarAlerta("error","El titulo no puede ser mayor a 50 carácteres. "));case 5:if(!(e.noticia.descripcion.length>2e3)){t.next=7;break}return t.abrupt("return",e.mostrarAlerta("error","La descripción no puede ser mayor a 2000 carácteres. "));case 7:return a=e.autores.filter((function(t){return t.nombre===e.noticia.autor})),r=Object(Ie["a"])(a,1),i=r[0],o=e.categorias.filter((function(t){return t.nombre===e.noticia.categoria})),n=Object(Ie["a"])(o,1),s=n[0],c=JSON.parse(JSON.stringify(e.noticia)),c.id_autor=i.id,c.id_categoria=s.id,t.prev=12,e.deshabilitado=!0,t.next=16,e.axios.put("/actualizar-noticia/".concat(e.$route.params.noticiaID),c);case 16:l=t.sent,u=l.data,e.mostrarAlerta("success",u.msg),e.$refs.form.resetValidation(),e.noticia={titulo:"",autor:"",categoria:"",url_imagen:"",descripcion:""},e.deshabilitado=!1,setTimeout((function(){e.$router.push("/noticia")}),1500),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](12),e.mostrarAlerta("error",t.t0.response.data.msg),e.deshabilitado=!1;case 29:case"end":return t.stop()}}),t,null,[[12,25]])})))()},obtenerAutores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-autores");case 4:a=t.sent,r=a.data,e.autores=r,e.selectAutores=r.map((function(e){return e.nombre})),e.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg),e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},obtenerCategorias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-categorias");case 4:a=t.sent,r=a.data,e.categorias=r,i=r.map((function(e){return e.nombre})),e.selectCategorias=i,e.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},Xe=We,Ze=Object(u["a"])(Xe,Ye,Ke,!1,null,null,null),et=Ze.exports;m()(Ze,{VApp:j["a"],VAutocomplete:Pe["a"],VBtn:f["a"],VCard:J["a"],VCol:G["a"],VContainer:H["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSelect:Je["a"],VTextField:X["a"],VTextarea:Qe["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.tablaDatos,items:e.equipos,search:e.buscarEquipo,"sort-by":"id_categoria","no-results-text":e.textoEquipoNoEncontrado},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Equipos registrados")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-account-search-outline",label:"Buscar equipó","single-line":"","hide-details":""},model:{value:e.buscarEquipo,callback:function(t){e.buscarEquipo=t},expression:"buscarEquipo"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e.esAdmin?[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"info darken-1 ",dark:"",fab:"",small:"",title:"Abrir modla para crear un equipó."}},"v-btn",i,!1),r),[a("v-icon",[e._v(" mdi-account-multiple-plus ")])],1)]:e._e()]}}]),model:{value:e.modalEquipo,callback:function(t){e.modalEquipo=t},expression:"modalEquipo"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.tituloForm))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"text","append-icon":"mdi-format-color-text",rules:e.reglas,label:"Nombre del equipó",hint:"El nombre del equipó debe ser único."},model:{value:e.equipo.nombre,callback:function(t){e.$set(e.equipo,"nombre","string"===typeof t?t.trim():t)},expression:"equipo.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"text","append-icon":"mdi-account-multiple",loading:e.deshabilitado,rules:e.reglas,label:"Nombre del director"},model:{value:e.equipo.director,callback:function(t){e.$set(e.equipo,"director","string"===typeof t?t.trim():t)},expression:"equipo.director"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{loading:e.deshabilitado,"append-icon":"mdi-human",rules:e.reglas,type:"number",min:"3",label:"Número de jugadores del equipó"},model:{value:e.equipo.jugadores,callback:function(t){e.$set(e.equipo,"jugadores",e._n(t))},expression:"equipo.jugadores"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"url",loading:e.deshabilitado,"append-icon":"mdi-image-area",rules:e.reglas,label:"Logo del equipó",hint:"Imagen a través de un enlace."},model:{value:e.equipo.url_imagen,callback:function(t){e.$set(e.equipo,"url_imagen","string"===typeof t?t.trim():t)},expression:"equipo.url_imagen"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{loading:e.deshabilitado,rules:e.reglas,"append-icon":"mdi-folder",items:e.selectCategorias,chips:"",label:"Categoría del equipo",placeholder:"Seleccionar categoría","no-data-text":"Este categoría no existe.","allow-overflow":!1},model:{value:e.equipo.id_categoria,callback:function(t){e.$set(e.equipo,"id_categoria",t)},expression:"equipo.id_categoria"}})],1)],1),a("v-container",[e.equipo.url_imagen&&e.equipo.url_imagen.length?a("div",{staticClass:"text-center"},[a("img",{staticClass:"imagen-equipo",attrs:{src:e.equipo.url_imagen,alt:"logo-equipó"}})]):e._e()])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",dark:"",color:"error",title:"Cerrar Modal"},on:{click:e.cerraModal}},[a("v-icon",[e._v("mdi-close")])],1),a("v-btn",{attrs:{title:"Guarda Equipo",loading:e.deshabilitado,color:e.esEditar?"teal":"primary",dark:"",medium:""},on:{click:e.enviarFormulario}},[a("v-icon",[e._v(e._s(e.iconoForm))])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[e.esAdmin?[a("v-btn",{attrs:{fab:"",small:"",color:"teal",loading:e.deshabilitado},on:{click:function(t){return e.asignarDatosEditar(r)}}},[a("v-icon",{staticClass:"white--text",attrs:{small:""}},[e._v(" mdi-account-edit ")])],1),a("v-btn",{staticClass:"ml-2",attrs:{fab:"",small:"",color:"error",loading:e.deshabilitado},on:{click:function(t){return e.eliminarEquipo(r)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-account-multiple-minus")])],1)]:[a("small",[a("v-icon",{staticClass:"primary--text"},[e._v("mdi-account-lock-outline")])],1)]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.obtenerEquipos}},[a("v-icon",[e._v("mdi-reload")])],1)]},proxy:!0}],null,!0)})],1)],1)},at=[],rt={name:"Equipos",components:{Spinner:se},data:function(){return{loading:!1,esEditar:!1,modalEquipo:!1,deshabilitado:!1,buscarEquipo:"",textoEquipoNoEncontrado:"No se encontraron equipos relacionados con la búsqueda",tablaDatos:[{sortable:!1},{text:"#ID",value:"id"},{text:"Nombre",value:"nombre"},{text:"Jugadores",value:"jugadores"},{text:"Director",value:"director"},{text:"Categoría",value:"id_categoria"},{text:"Acciones",value:"actions",sortable:!1}],reglas:[function(e){return!!e||"El campo es obligatorio."}],equipo:{nombre:"",jugadores:"",director:"",url_imagen:"",id_categoria:""},equipos:[],categorias:[],selectCategorias:[]}},watch:{modalEquipo:function(e){e||this.cerraModal()}},created:function(){this.obtenerEquipos(),this.obtenerCategorias()},computed:{tituloForm:function(){return this.esEditar?"Editar Equipo":"Crear Equipo"},iconoForm:function(){return this.esEditar?"mdi-account-edit-outline":"mdi-account-multiple-plus"},esAdmin:function(){return this.$store.getters.esAdmin}},methods:{obtenerCategorias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-categorias");case 4:a=t.sent,r=a.data,e.categorias=r,e.selectCategorias=r.map((function(e){return e.nombre})),e.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg),e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},obtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-equipos");case 4:a=t.sent,r=a.data,e.loading=!1,e.equipos=r,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},asignarDatosEditar:function(e){this.equipo=Object.assign({},e),this.esEditar=!0,this.modalEquipo=!0},cerraModal:function(){this.modalEquipo=!1,this.esEditar=!1,this.$refs.form.resetValidation(),this.equipo={nombre:"",jugadores:"",director:"",url_imagen:"",id_categoria:""}},eliminarEquipo:function(e){var t=this;F.a.fire({title:"Eliminar equipo",text:"¿Estas seguro en eliminar el equipo con nombre: ".concat(e.nombre,"? Al eliminar el equipo se borraran las apuestas en que participa, apuestas del cliente y seguimientos."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#009688",cancelButtonText:"No, Cerrar modal",confirmButtonText:"Si, Eliminar equipo"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-equipo/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.equipos=t.equipos.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},crearEquipo:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,i,o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.equipo.nombre&&t.equipo.director&&t.equipo.jugadores&&t.equipo.url_imagen&&t.equipo.id_categoria){a.next=3;break}return t.$refs.form.validate(),a.abrupt("return",t.mostrarAlerta("error","Todos los datos son necesarios para crear un equipo."));case 3:return a.prev=3,r=t.categorias.filter((function(e){return e.nombre===t.equipo.id_categoria})),i=Object(Ie["a"])(r,1),o=i[0],e.id_categoria=o.id,t.deshabilitado=!0,a.next=9,t.axios.post("/crear-equipo",e);case 9:n=a.sent,s=n.data,t.mostrarAlerta("success",s.msg),t.deshabilitado=!1,t.cerraModal(),t.obtenerEquipos(),a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](3),t.mostrarAlerta("error",a.t0.response.data.msg),t.deshabilitado=!1;case 21:case"end":return a.stop()}}),a,null,[[3,17]])})))()},actualizarEquipo:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.equipo.nombre&&e.equipo.director&&e.equipo.jugadores&&e.equipo.url_imagen&&e.equipo.id_categoria){t.next=3;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Todos los datos son necesarios para actualizar un equipo."));case 3:return t.prev=3,a=e.categorias.filter((function(t){return t.nombre===e.equipo.id_categoria})),r=Object(Ie["a"])(a,1),i=r[0],e.equipo.id_categoria=i.id,e.deshabilitado=!0,t.next=9,e.axios.put("/actualizar-equipo/".concat(e.equipo.id),e.equipo);case 9:o=t.sent,n=o.data,e.mostrarAlerta("success",n.msg),e.deshabilitado=!1,e.cerraModal(),e.obtenerEquipos(),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](3),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 21:case"end":return t.stop()}}),t,null,[[3,17]])})))()},enviarFormulario:function(){this.esEditar?this.actualizarEquipo():this.crearEquipo(this.equipo)},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},it=rt,ot=(a("ba43"),Object(u["a"])(it,tt,at,!1,null,"27f582d6",null)),nt=ot.exports;m()(ot,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSelect:Je["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",{staticClass:"mt-5"},[e.loading?a("div",[a("Spinner")],1):[e.contactos.length?[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:"info darken-3 text-center text-uppercase"},[a("th",{staticClass:"white--text text-left"},[e._v("Nombre")]),a("th",{staticClass:"white--text text-left"},[e._v("Correo")]),a("th",{staticClass:"white--text text-left"},[e._v("Mensaje")]),a("th",{staticClass:"white--text text-left"},[e._v("Fecha")]),e.esAdmin?[a("th",{staticClass:"white--text text-left"},[e._v("Acción")])]:e._e()],2)]),a("tbody",e._l(e.contactos,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.correo))]),a("td",[e._v(e._s(t.mensaje.substring(0,90))+"...")]),a("td",[e._v(e._s(e.fechaYHoraConFormato(t.fecha)))]),e.esAdmin?[a("td",[a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",color:"error",title:"Eliminar contacto"},on:{click:function(a){return e.eliminarContacto(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-email-off")])],1)],1)]:e._e()],2)})),0)]},proxy:!0}],null,!1,3882877548)})]:[a("h3",{staticClass:"text--darken-3 text-center"},[e._v(" No existen mensajes de contactos. "),a("v-icon",{attrs:{color:"teal"}},[e._v(" mdi-message-processing-outline ")])],1)]]],2)],1)},ct=[],lt={name:"Contacto",components:{Spinner:se},data:function(){return{loading:!1,deshabilitado:!1,contactos:[]}},created:function(){this.obtenerMensajesContacto()},computed:{esAdmin:function(){return this.$store.getters.esAdmin}},methods:{obtenerMensajesContacto:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-contactos");case 4:a=t.sent,r=a.data,e.contactos=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},fechaYHoraConFormato:function(e){var t=new Date(e);return t.toLocaleString()},eliminarContacto:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:F.a.fire({title:"Eliminar noticia",text:"¿Estas seguro en eliminar la noticia ".concat(e.nombre,"."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#009688",cancelButtonText:"No, cerrar",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-contacto/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.contactos=t.contactos.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}));case 1:case"end":return a.stop()}}),a)})))()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},ut=lt,dt=(a("7a4d"),Object(u["a"])(ut,st,ct,!1,null,"3d1426d3",null)),mt=dt.exports;m()(dt,{VApp:j["a"],VBtn:f["a"],VContainer:H["a"],VIcon:g["a"],VSimpleTable:ue["a"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",{staticClass:"mt-5"},[e.loading?a("div",[a("Spinner")],1):[e.seguimientos.length?[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:"deep-purple text-center text-uppercase"},[a("th",{staticClass:"white--text text-left"},[e._v("Nombre Cliente")]),a("th",{staticClass:"white--text text-left"},[e._v("Nombre Equipó")]),a("th",{staticClass:"white--text text-left"},[e._v("Fecha De Seguimiento")]),e.esAdmin?[a("th",{staticClass:"white--text text-left"},[e._v("Acción")])]:e._e()],2)]),a("tbody",e._l(e.seguimientos,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id_cliente))]),a("td",[e._v(e._s(t.id_equipo))]),a("td",[e._v(e._s(e.formatoFecha(t.fecha)))]),e.esAdmin?[a("td",[a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",title:"Eliminar seguimiento"},on:{click:function(a){return e.eliminarSeguimiento(t)}}},[a("v-icon",{staticClass:"error--text",attrs:{dark:""}},[e._v(" mdi-heart-off")])],1)],1)]:e._e()],2)})),0)]},proxy:!0}],null,!1,786110312)})]:[a("h3",{staticClass:"text--darken-3 text-center"},[e._v(" No existen seguimientos de los clientes. "),a("v-icon",{attrs:{color:"purple"}},[e._v(" mdi-heart-broken ")])],1)]]],2)],1)},vt=[],ft={name:"Seguimientos",components:{Spinner:se},data:function(){return{loading:!1,deshabilitado:!1,seguimientos:[]}},created:function(){this.obtenerSeguimientos()},computed:{esAdmin:function(){return this.$store.getters.esAdmin}},methods:{mostrarMensaje:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},formatoFecha:function(e){var t=new Date(e);return t.toLocaleString()},obtenerSeguimientos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-seguimientos");case 4:a=t.sent,r=a.data,e.seguimientos=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarMensaje("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},eliminarSeguimiento:function(e){var t=this;F.a.fire({title:"Eliminar seguimiento",text:"¿Estas seguro en eliminar el seguimiento del cliente: ".concat(e.id_cliente,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#009688",cancelButtonText:"No, cancelar",confirmButtonText:"Si, eliminar seguimiento"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-seguimiento/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarMensaje("success",o.msg),t.seguimientos=t.seguimientos.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarMensaje("error",e.response.data.msg)}))}}},bt=ft,gt=Object(u["a"])(bt,pt,vt,!1,null,null,null),ht=gt.exports;m()(gt,{VApp:j["a"],VBtn:f["a"],VContainer:H["a"],VIcon:g["a"],VSimpleTable:ue["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headerApuestas,items:e.apuestas,search:e.busquedaApuesta,"sort-by":"fecha","no-results-text":e.apuestasNoEncontradas},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Apuestas Registradas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-trophy-variant-outline",label:"Buscar apuesta","single-line":"","hide-details":""},model:{value:e.busquedaApuesta,callback:function(t){e.busquedaApuesta=t},expression:"busquedaApuesta"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e.esAdmin?[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary darken-1 ",dark:"",fab:"",small:"",title:"Crear Apuesta"}},"v-btn",i,!1),r),[a("v-icon",[e._v(" mdi-plus-circle ")])],1)]:e._e()]}}]),model:{value:e.modalApuesta,callback:function(t){e.modalApuesta=t},expression:"modalApuesta"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.tituloForm))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[e.editarApuesta?e._e():[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{clearable:"",chips:"",loading:e.deshabilitado,rules:e.reglas,items:e.equipoSelect,label:"Primer Equipó A Competir","append-icon":"mdi-account-group",placeholder:"Seleccionar o buscar equipo primer equipo","no-data-text":"Equipó no encontrado.","allow-overflow":!1},on:{change:e.ejecutarCambio},model:{value:e.apuesta.id_equipo1.nombre,callback:function(t){e.$set(e.apuesta.id_equipo1,"nombre",t)},expression:"apuesta.id_equipo1.nombre"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{ref:"input",attrs:{clearable:"",chips:"",loading:e.deshabilitado,rules:e.reglas,items:e.equipoSelect,label:"Segundo Equipó A Competir",placeholder:"Seleccionar o buscar equipo segundo equipo",hint:"No debe ser igual al primero.","no-data-text":"Equipó no encontrado.","append-icon":"mdi-account-group-outline","allow-overflow":!1},on:{change:e.ejecutarCambio},model:{value:e.apuesta.id_equipo2.nombre,callback:function(t){e.$set(e.apuesta.id_equipo2,"nombre",t)},expression:"apuesta.id_equipo2.nombre"}})],1)],a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"number",min:"10",max:"200","append-icon":"mdi-cash-usd",loading:e.deshabilitado,rules:e.reglas,label:"Costo de la apuesta",hint:"Costo en coins que se restara al cliente."},model:{value:e.apuesta.costo,callback:function(t){e.$set(e.apuesta,"costo",e._n(t))},expression:"apuesta.costo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"number",min:"10",max:"200",loading:e.deshabilitado,rules:e.reglas,"append-icon":"mdi-currency-usd-circle",label:"Ganancía de la apuesta",hint:"Este valor sera sumando en los coins del cliente."},model:{value:e.apuesta.ganancia,callback:function(t){e.$set(e.apuesta,"ganancia",e._n(t))},expression:"apuesta.ganancia"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.apuesta.fecha_resultado,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.apuesta,"fecha_resultado",t)},"update:return-value":function(t){return e.$set(e.apuesta,"fecha_resultado",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Seleccionar fecha de resultado.","append-icon":"mdi-calendar",hint:"Esta fecha puede cambiar."},model:{value:e.apuesta.fecha_resultado,callback:function(t){e.$set(e.apuesta,"fecha_resultado",t)},expression:"apuesta.fecha_resultado"}},"v-text-field",i,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{color:"teal darken-1","header-color":"primary","no-title":"",scrollable:""},model:{value:e.apuesta.fecha_resultado,callback:function(t){e.$set(e.apuesta,"fecha_resultado",t)},expression:"apuesta.fecha_resultado"}},[a("v-spacer"),a("v-btn",{attrs:{title:"Cerrar",text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cerrar ")]),a("v-btn",{attrs:{text:"",color:"primary",title:"Establecer fecha"},on:{click:function(t){return e.$refs.menu.save(e.apuesta.fecha_resultado)}}},[e._v(" Guardar ")])],1)],1)],1)],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",dark:"",color:"error",title:"Cerra Modal"},on:{click:e.cerraModal}},[a("v-icon",[e._v("mdi-close")])],1),a("v-btn",{attrs:{loading:e.deshabilitado,color:e.editarApuesta?"teal":"primary",dark:"",medium:"",title:"Enviar Apuesta"},on:{click:e.enviarApuesta}},[a("v-icon",[e._v("mdi-trophy-outline")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[e.esAdmin?[a("v-btn",{attrs:{fab:"",small:"",color:"primary",loading:e.deshabilitado,title:"Editar Apuesta"},on:{click:function(t){return e.asignarDatosApuesta(r)}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-tooltip-edit-outline ")])],1),a("v-btn",{attrs:{fab:"",small:"",color:"error",loading:e.deshabilitado,title:"Eliminar Apuesta"},on:{click:function(t){return e.eliminarApuesta(r)}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-trophy ")])],1)]:[a("v-icon",{staticClass:"primary--text"},[e._v(" mdi-shield-lock")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.obtenerApuestas}},[e._v(" Obtener apuestas"),a("v-icon",[e._v("mdi-trophy-award")])],1)]},proxy:!0}],null,!0)})],1)],1)},Ct=[],_t=(a("99af"),{name:"Apuestas",components:{Spinner:se},data:function(){return{apuestasNoEncontradas:"No se encontraron apuestas relacionando con la búsqueda.",modalApuesta:!1,loading:!1,menu:!1,deshabilitado:!1,busquedaApuesta:"",reglas:[function(e){return!!e||"El campo es obligatorio."}],equipos:[],equipoSelect:[],editarApuesta:!1,apuesta:{id_equipo1:{nombre:""},id_equipo2:{nombre:""},fecha_resultado:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),costo:null,ganancia:null},apuestas:[],headerApuestas:[{sortable:!1},{text:"Primer Equipo",value:"id_equipo1.nombre"},{text:"Segúndo Equipo",value:"id_equipo2.nombre"},{text:"Costo de la apuesta (coins)",value:"costo"},{text:"Ganancía de la apuesta (coins)",value:"ganancia"},{text:"Fecha de modificación",value:"fecha"},{text:"Fecha de resultado",value:"fecha_resultado"},{text:"Acciones",value:"actions",sortable:!1}]}},computed:{tituloForm:function(){return this.editarApuesta?"Editar Apuesta":"Crear Apuesta"},esAdmin:function(){return this.$store.getters.esAdmin}},watch:{modalApuesta:function(e){e||this.cerraModal()}},created:function(){this.obtenerDatosApuestas()},methods:{obtenerDatosApuestas:function(){this.obtenerApuestas(),this.obtenerEquipos()},ejecutarCambio:function(){if(this.apuesta.id_equipo1.nombre===this.apuesta.id_equipo2.nombre)return this.$refs.form.validate(),this.mostrarAlerta("error","Los equipos en la apuesta no debe ser los mismos."),void(this.apuesta.id_equipo2.nombre=null)},asignarDatosApuesta:function(e){this.editarApuesta=!0,this.apuesta=Object.assign({},e),this.modalApuesta=!0},eliminarApuesta:function(e){var t=this;F.a.fire({title:"Eliminar apuesta",text:"¿Estas seguro en eliminar la apuesta ".concat(e.id_equipo1.nombre," VS ").concat(e.id_equipo2.nombre,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#204e65",cancelButtonText:"No, Cerrar modal",confirmButtonText:"Si, Eliminar apuesta"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-apuesta/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.apuestas=t.apuestas.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},enviarApuesta:function(){return this.apuesta.id_equipo1.nombre&&this.apuesta.id_equipo2.nombre&&this.apuesta.id_equipo1.nombre.length&&this.apuesta.id_equipo2.nombre.length&&this.apuesta.ganancia&&this.apuesta.costo?this.apuesta.id_equipo1.nombre===this.apuesta.id_equipo2.nombre?(this.$refs.form.validate(),void this.mostrarAlerta("error","Los equipos en la apuesta no debe ser los mismos.")):void(this.apuesta.costo>255?this.mostrarAlerta("error","El costó de la apuesta es mayor a 255. Indica un costó menor."):this.apuesta.ganancia>200?this.mostrarAlerta("error","El costó de la ganancia es muy elevado, debe ser menor a 200."):this.editarApuesta?this.actualizarApuesta():this.crearApuesta(this.apuesta)):(this.mostrarAlerta("error","Todos los campos son obligatorios para crear  una apuesta."),this.$refs.form.validate())},actualizarApuesta:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.apuesta)),a.fecha=new Date,t.prev=2,e.deshabilitado=!0,t.next=6,e.axios.put("/actualizar-apuesta/".concat(e.apuesta.id),a);case 6:r=t.sent,i=r.data,e.deshabilitado=!1,e.mostrarAlerta("success",i.msg),e.cerraModal(),e.obtenerApuestas(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](2),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))()},crearApuesta:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,i,o,n,s,c,l,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.equipos.filter((function(t){return t.nombre===e.id_equipo1.nombre})),i=Object(Ie["a"])(r,1),o=i[0],n=t.equipos.filter((function(t){return t.nombre===e.id_equipo2.nombre})),s=Object(Ie["a"])(n,1),c=s[0],l=JSON.parse(JSON.stringify(e)),l.id_equipo1=o.id,l.id_equipo2=c.id,a.prev=5,t.deshabilitado=!0,a.next=9,t.axios.post("/crear-apuesta",l);case 9:u=a.sent,d=u.data,t.mostrarAlerta("success",d.msg),t.deshabilitado=!1,t.cerraModal(),t.obtenerApuestas(),a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](5),t.deshabilitado=!1,t.mostrarAlerta("error",a.t0.response.data.msg);case 21:case"end":return a.stop()}}),a,null,[[5,17]])})))()},cerraModal:function(){this.modalApuesta=!1,this.editarApuesta=!1,this.$refs.form.resetValidation(),this.apuesta={id_equipo1:{nombre:""},id_equipo2:{nombre:""},fecha_resultado:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),costo:null,ganancia:null}},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})},obtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-equipos");case 4:a=t.sent,r=a.data,e.equipos=r,e.loading=!1,i=r.map((function(e){return e.nombre})),e.equipoSelect=i,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},obtenerApuestas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-apuestas");case 4:a=t.sent,r=a.data,e.apuestas=r.map((function(e){return{id:e.id,id_equipo1:e.id_equipo1,id_equipo2:e.id_equipo2,costo:e.costo,ganancia:e.ganancia,fecha_resultado:e.fecha_resultado,fecha:new Date(e.fecha).toLocaleString()}})),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}}),kt=_t,At=a("2e4b"),wt=a("e449"),yt=Object(u["a"])(kt,xt,Ct,!1,null,null,null),Et=yt.exports;m()(yt,{VApp:j["a"],VAutocomplete:Pe["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDatePicker:At["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VMenu:wt["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[e.loading?a("div",[a("Spinner")],1):[e.apuestasClientes.length?[a("v-simple-table",{staticClass:"mt-4",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:"cyan darken-4"},[a("th",{staticClass:"white--text text-left"},[e._v("Cliente")]),a("th",{staticClass:"white--text text-left"},[e._v("Apostó por")]),a("th",{staticClass:"white--text text-left"},[e._v("Apuesta")]),a("th",{staticClass:"white--text text-left"},[e._v("Fecha que apostó")]),a("th",{staticClass:"white--text text-left"},[e._v("Resultado")]),e.esAdmin?[a("th",{staticClass:"white--text text-left"},[e._v("Acciones")])]:e._e()],2)]),a("tbody",e._l(e.apuestasClientes,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id_cliente))]),a("td",[e._v(e._s(t.id_equipo))]),a("td",[e._v(" "+e._s(t.id_apuesta.equipo1)+" "),a("strong",[a("span",[e._v("VS")])]),e._v(" "+e._s(t.id_apuesta.equipo2)+" ")]),a("td",[e._v(e._s(e.formatearFecha(t.fecha)))]),a("td",[e._v(" "+e._s(t.resultado?t.resultado:"No se ha definido el resultado.")+" ")]),e.esAdmin?[a("td",[a("v-btn",{attrs:{loading:e.deshabilitado,dark:"",small:"",color:"error",title:"Eliminar Apuesta del cliente"},on:{click:function(a){return e.eliminarApuesta(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-delete-circle-outline")])],1),t.resultado?e._e():[a("v-btn",{staticClass:"margen",attrs:{loading:e.deshabilitado,dark:"",small:"",color:"info",title:"Definir Resultado"},on:{click:function(a){return e.$router.push("/definir-apuesta/"+t.id)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-arrow-right-box")])],1)]],2)]:e._e()],2)})),0)]},proxy:!0}],null,!1,882416671)})]:[a("h3",{staticClass:"text--darken-3 mt-5 text-center"},[e._v(" Los clientes no han realizado apuestas. "),a("v-icon",{staticClass:"error--text"},[e._v("mdi-close-circle")])],1)]]],2)],1)},qt=[],St={name:"ApuestaCliente",components:{Spinner:se},data:function(){return{loading:!1,deshabilitado:!1,apuestasClientes:[]}},created:function(){this.obtenerApuestasCliente()},computed:{esAdmin:function(){return this.$store.getters.esAdmin}},methods:{eliminarApuesta:function(e){var t=this;F.a.fire({title:"Eliminar apuesta del cliente",text:"¿Estas seguro en eliminar la apuesta del cliente: ".concat(e.id_cliente,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#204e65",cancelButtonText:"No, Cancelar",confirmButtonText:"Si, Eliminar Apuesta"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-apuestaCliente/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.apuestasClientes=t.apuestasClientes.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},obtenerApuestasCliente:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-apuestasCliente");case 4:a=t.sent,r=a.data,e.apuestasClientes=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},formatearFecha:function(e){var t=new Date(e);return t.toLocaleString()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},Rt=St,jt=(a("e7de"),Object(u["a"])(Rt,Vt,qt,!1,null,"61ca09f2",null)),Tt=jt.exports;m()(jt,{VApp:j["a"],VBtn:f["a"],VContainer:H["a"],VIcon:g["a"],VSimpleTable:ue["a"]});var Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[e.loading?a("div",[a("Spinner")],1):[a("v-container",[a("v-row",{staticClass:"flex align-center justify-space-between"},[a("v-col",{staticClass:"justify-end",attrs:{cols:"12 text-center",sm:"4"}},[a("v-btn",{attrs:{fab:"",color:"info darken-1 ",medium:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",{attrs:{dark:"",medium:""}},[e._v(" mdi-arrow-left-circle ")])],1)],1),a("v-col",{staticClass:"justify-start",attrs:{cols:"12 text-center",sm:"4"}})],1)],1),e.apuestaCliente.id_cliente.nombre&&e.apuestaCliente.id_cliente.nombre.length?[a("v-container",[a("h1",{staticClass:"text-center green--text darken-3"},[e._v(" Apuesta del cliente: ")]),a("v-row",{staticClass:"flex align-center justify-space-between my-5"},[a("v-col",{staticClass:"justify-end",attrs:{cols:"12 text-center",sm:"4"}},[a("h2",[a("span",{staticClass:"primary--text"},[e._v("Nombre del cliente:")]),e._v(" "+e._s(e.apuestaCliente.id_cliente.nombre)),a("v-icon",[e._v("mdi-account")])],1)]),a("v-col",{staticClass:"justify-start",attrs:{cols:"12 text-center",sm:"4"}},[a("h2",[a("span",{staticClass:"info--text"},[e._v("Apostó por: ")]),e._v(e._s(e.apuestaCliente.id_equipo.nombre)+" "),a("v-icon",[e._v("mdi-medal-outline")])],1)])],1),a("div",{staticClass:"text-center"},[a("img",{staticClass:"logo-apuesta",attrs:{src:e.apuestaCliente.id_equipo.url_imagen,alt:""}}),a("h5",[e._v(" Logo del equipo que apostó "+e._s(e.apuestaCliente.id_cliente.nombre)+". "),a("v-icon",[e._v("mdi-target")])],1)])],1),a("v-container",[a("div",{staticClass:"text-center"},[a("v-row",{staticClass:"flex align-center justify-space-between"},[a("v-col",{staticClass:"justify-end text-center",attrs:{cols:"12 ",sm:"4"}},[a("span",[e._v(e._s(e.apuestaCliente.id_apuesta.equipo1.nombre)+" ")]),a("img",{staticClass:"imagen",attrs:{src:e.apuestaCliente.id_apuesta.equipo1.url_imagen,alt:""}}),a("v-icon",[e._v("mdi-trophy-award")])],1),a("v-col",{staticClass:"justify-center text-center",attrs:{cols:"12 ",sm:"4"}},[a("small",{staticClass:"fecha"},[e._v("Fecha: "+e._s(e.apuestaCliente.id_apuesta.fecha_resultado)+" "),a("v-icon",[e._v("mdi-calendar-outline")])],1)]),a("v-col",{staticClass:"justify-start text-center",attrs:{cols:"12 ",sm:"4"}},[a("v-icon",[e._v("mdi-trophy-award")]),a("img",{staticClass:"imagen",attrs:{src:e.apuestaCliente.id_apuesta.equipo2.url_imagen,alt:""}}),a("span",[e._v(" "+e._s(e.apuestaCliente.id_apuesta.equipo2.nombre)+" ")])],1)],1)],1)]),a("v-container",{staticClass:"mt-4"},[a("h1",{staticClass:"info--text darken-3 text-center"},[e._v("Definir Apuesta")]),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"9"}},[a("v-card",{staticClass:"padding"},[a("h5",{staticClass:"text-center"},[e._v(" Ganacia de la apuesta: "+e._s(e.apuestaCliente.id_apuesta.ganancia)+" coins "),a("v-icon",{staticClass:"warning-color icono",attrs:{color:"yellow"}},[e._v("mdi-currency-usd-circle-outline")])],1),a("v-form",{ref:"form",staticClass:"p-5",on:{submit:function(t){return t.preventDefault(),e.enviarApuesta.apply(null,arguments)}}},[a("v-text-field",{attrs:{clas:"my-2",loading:e.deshabilitado,rules:e.reglaResultado,"append-icon":"mdi-medal-outline",label:"Resultado de la apuesta",hint:"Indica que equipo gano y el resultado final",required:""},model:{value:e.definirApuesta.resultado,callback:function(t){e.$set(e.definirApuesta,"resultado","string"===typeof t?t.trim():t)},expression:"definirApuesta.resultado"}}),a("v-radio-group",{attrs:{rules:e.regla},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[e._v(" Definir apuesta del cliente "),a("strong",[e._v("seleccionando el resultado "),a("v-icon",[e._v("mdi-arrow-down-bold-circle-outline")])],1)])]},proxy:!0}],null,!1,1095128044),model:{value:e.definirApuesta.resultadoApuesta,callback:function(t){e.$set(e.definirApuesta,"resultadoApuesta","string"===typeof t?t.trim():t)},expression:"definirApuesta.resultadoApuesta"}},[a("v-radio",{attrs:{value:"gano"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a("strong",{staticClass:"success--text"},[e._v("Ganó")]),e._v(" la apuesta ")])]},proxy:!0}],null,!1,3367732830)}),a("v-radio",{attrs:{value:"perdio"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a("strong",{staticClass:"error--text"},[e._v("Perdió")]),e._v(" la apuesta ")])]},proxy:!0}],null,!1,1333391335)})],1),a("v-btn",{staticClass:"mt-3",attrs:{loading:e.deshabilitado,type:"submit",rounded:"",block:"",dark:"",color:"green"}},[e._v(" Guardar resultado"),a("v-icon",[e._v("mdi-check-underline-circle-outline")])],1)],1)],1)],1)],1)],1)],1)],1)],1)]:[a("h3",{staticClass:"text--darken-3 mt-5 text-center"},[e._v(" Esta apuesta no corresponde a ningún cliente. "),a("v-icon",{staticClass:"error--text"},[e._v("mdi-close-circle")])],1)]]],2)],1)},$t=[],Bt={name:"DefinirApuesta",components:{Spinner:se},data:function(){return{reglaResultado:[function(e){return!!e||"El campo es obligatorio."},function(e){return e.length<=50||"La descripción no debe ser mayor a 50 carácteres."}],regla:[function(e){return!!e||"El campo es obligatorio."}],definirApuesta:{resultadoApuesta:"",resultado:""},loading:!1,deshabilitado:!1,apuestaCliente:{id_equipo:{},id_apuesta:{},id_cliente:""}}},created:function(){this.obtenerApuestaCliente()},methods:{obtenerApuestaCliente:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-apuestaCliente/".concat(e.$route.params.apuestaID));case 4:a=t.sent,r=a.data,e.apuestaCliente=r[0],e.loading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,setTimeout((function(){e.$router.push("/apuestas-cliente")}),2500),e.mostrarAlerta("error",t.t0.response.data.msg);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},validarCampos:function(){return!(!(this.definirApuesta.resultado&&this.definirApuesta.resultadoApuesta&&this.definirApuesta.resultadoApuesta.length&&this.definirApuesta.resultado.length)||this.definirApuesta.resultado.length>50)},verificarResultadoRadio:function(e){var t=null;return t="perdio"===e?0:1,t},enviarApuesta:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.validarCampos(),a){t.next=4;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Debes completar todos los campos para definir la apuesta."));case 4:return r=JSON.parse(JSON.stringify(e.definirApuesta)),i=e.verificarResultadoRadio(r.resultadoApuesta),o={resultado:r.resultado,resultadoApuesta:i},t.prev=7,e.deshabilitado=!0,t.next=11,e.axios.put("/definir-apuestaCliente/".concat(e.$route.params.apuestaID),o);case 11:n=t.sent,s=n.data,e.mostrarAlerta("success",s.msg),e.$refs.form.resetValidation(),e.definirApuesta={resultadoApuesta:"",resultado:""},e.deshabilitado=!1,setTimeout((function(){e.$router.push("/apuesta-cliente")}),2e3),t.next=25;break;case 20:t.prev=20,t.t0=t["catch"](7),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg),setTimeout((function(){e.$router.push("/apuesta-cliente")}),2500);case 25:case"end":return t.stop()}}),t,null,[[7,20]])})))()},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},Dt=Bt,Nt=(a("8e35"),a("67b6")),Lt=a("43a6"),Mt=Object(u["a"])(Dt,Ot,$t,!1,null,"bb54cecc",null),Ft=Mt.exports;m()(Mt,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCol:G["a"],VContainer:H["a"],VForm:K["a"],VIcon:g["a"],VRadio:Nt["a"],VRadioGroup:Lt["a"],VRow:W["a"],VTextField:X["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.datosSolicitudRecarga,items:e.recargas,search:e.filtrarSolicitudesRecarga,"sort-by":"fecha","no-results-text":e.noEncontrado},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Solicitudes De Recarga")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-account-cash-outline",label:"Buscar solicitudes","single-line":"","hide-details":""},model:{value:e.filtrarSolicitudesRecarga,callback:function(t){e.filtrarSolicitudesRecarga=t},expression:"filtrarSolicitudesRecarga"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.modalRecargar,callback:function(t){e.modalRecargar=t},expression:"modalRecargar"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Recargar coins")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{loading:e.deshabilitado,rules:e.regla,"append-icon":"mdi-currency-usd-circle-outline",label:"Indique los coins a recargar",min:"5",type:"number",max:"255",hint:"El monto debe ser menos a 255 coins."},model:{value:e.recargar.coins,callback:function(t){e.$set(e.recargar,"coins",e._n(t))},expression:"recargar.coins"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",dark:"",color:"error",title:"Cerrar"},on:{click:e.cerraModal}},[a("v-icon",[e._v(" mdi-close-circle ")])],1),a("v-btn",{attrs:{loading:e.deshabilitado,color:"teal",dark:"",medium:"",title:"Recargar coins"},on:{click:e.recargarCoins}},[a("v-icon",[e._v("mdi-cash-check")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{fab:"",small:"",color:"green",dark:"",title:"Abrir modal para recargar",loading:e.deshabilitado},on:{click:function(t){return e.abriModalRecargar(r)}}},[a("v-icon",[e._v(" mdi-currency-usd-circle-outline ")])],1),a("v-btn",{staticClass:"ml-2",attrs:{fab:"",small:"",color:"error",title:"Eliminar solicitud de recarga",loading:e.deshabilitado},on:{click:function(t){return e.eliminarSolicitudRecarga(r)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-account-cash ")])],1)]}},{key:"no-data",fn:function(){return[e._v(" Los clientes no han solicitado recargas. "),a("v-icon",{staticClass:"error--text",attrs:{title:"Recargar solicitudes"},on:{click:e.obtenerSolicitudRecargas}},[e._v("mdi-account-cash")])]},proxy:!0}],null,!0)})],1)],1)],1)},Ut=[],zt={name:"Recargas",components:{Spinner:se},data:function(){return{regla:[function(e){return!!e||"El campo es obligatorio."}],recargas:[],modalRecargar:!1,recargar:{coins:null},datosSolicitud:{},noEncontrado:"No se han encontrado solicitudes de recarga que coincidan con la búsqueda.",filtrarSolicitudesRecarga:"",loading:!1,deshabilitado:!1,datosSolicitudRecarga:[{sortable:!1},{text:"Nombre del titular",value:"nombre"},{text:"Apellido del titular",value:"apellido"},{text:"Fecha de solicitud",value:"fecha"},{text:"Correo",value:"id_cliente.correo"},{text:"Coins actuales",value:"id_cliente.coins"},{text:"Tarjeta",value:"tarjeta"},{text:"N° Tarjeta",value:"numero_tarjeta"},{text:"Acciones",value:"actions",sortable:!1}]}},created:function(){this.obtenerSolicitudRecargas()},watch:{modalRecargar:function(e){e||this.cerraModal()}},methods:{abriModalRecargar:function(e){this.datosSolicitud=Object.assign({},e),this.modalRecargar=!0},eliminarSolicitudRecarga:function(e){var t=this;F.a.fire({title:"Eliminar solicitud de recarga",text:"¿Desea eliminar la solicitud de recarga del cliente ".concat(e.id_cliente.correo,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#204e65",cancelButtonText:"No, cerrar",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("eliminar-solicitudRecarga/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.recargas=t.recargas.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},obtenerSolicitudRecargas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-solicitudRecargas");case 4:a=t.sent,r=a.data,e.recargas=r.map((function(e){return{id:e.id,nombre:e.nombre,apellido:e.apellido,id_cliente:e.id_cliente,numero_tarjeta:e.numero_tarjeta,tarjeta:e.tarjeta,fecha:new Date(e.fecha).toLocaleString()}})),e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},recargarCoins:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.recargar.coins){t.next=3;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","Debes indicar el monto a recargar."));case 3:if(!(e.recargar.coins>255)){t.next=6;break}return e.$refs.form.validate(),t.abrupt("return",e.mostrarAlerta("error","El monto debe ser menos a 255 coins."));case 6:return t.prev=6,e.deshabilitado=!0,a=JSON.parse(JSON.stringify(e.datosSolicitud.id)),t.next=11,e.axios.put("/recargar-cliente/".concat(a),e.recargar);case 11:r=t.sent,i=r.data,e.mostrarAlerta("success",i.msg),e.recargas=e.recargas.filter((function(e){return e.id!==a})),e.deshabilitado=!1,e.cerraModal(),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](6),e.mostrarAlerta("error",t.t0.response.data.msg),e.deshabilitado=!1;case 23:case"end":return t.stop()}}),t,null,[[6,19]])})))()},cerraModal:function(){this.modalRecargar=!1,this.$refs.form.resetValidation(),this.recargar={coins:null},this.datosSolicitud={}},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},Pt=zt,Jt=(a("0db6"),Object(u["a"])(Pt,It,Ut,!1,null,null,null)),Qt=Jt.exports;m()(Jt,{VApp:j["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",[e.loading?a("div",[a("Spinner")],1):a("v-container",{staticClass:"mt-5"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.datosUsuarios,items:e.usuarios,search:e.filtroUsuario,"sort-by":"id_rol","no-results-text":e.usuarioNoEncontrado},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Usuarios Administradores")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"text-md-center",attrs:{"append-icon":"mdi-account-search",label:"Buscar usuarios","single-line":"","hide-details":""},model:{value:e.filtroUsuario,callback:function(t){e.filtroUsuario=t},expression:"filtroUsuario"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"cyan darken-2",dark:"",small:"",loading:e.deshabilitado}},"v-btn",i,!1),r),[a("v-icon",[e._v(" mdi-account-plus-outline")])],1)]}}]),model:{value:e.modalUsuario,callback:function(t){e.modalUsuario=t},expression:"modalUsuario"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.editar?"Editar Usuario":"Crear Usuario"))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{loading:e.deshabilitado,rules:e.regla,"append-icon":"mdi-format-text-variant",label:"Nombre de la persona administradora"},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre","string"===typeof t?t.trim():t)},expression:"usuario.nombre"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{loading:e.deshabilitado,rules:e.regla,"append-icon":"mdi-account-lock-outline",label:"Usuario para ingresar",hint:"El usuarioes único."},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario","string"===typeof t?t.trim():t)},expression:"usuario.usuario"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{rules:e.regla,loading:e.deshabilitado,"append-icon":"mdi-account-cog",items:e.selectRoles,label:"Seleccionar Rol",placeholder:"Seleccionar o buscar rol","no-data-text":"Rol no encontrado.",chips:"","allow-overflow":!1},model:{value:e.usuario.id_rol,callback:function(t){e.$set(e.usuario,"id_rol",t)},expression:"usuario.id_rol"}})],1),e.editar?e._e():[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{loading:e.deshabilitado,rules:e.reglaClave,type:e.botonClave.type,"append-icon":"mdi-lock",label:"Clave del usuario",hint:"La clave debe ser mayor a 6 caracteres."},model:{value:e.usuario.clave,callback:function(t){e.$set(e.usuario,"clave","string"===typeof t?t.trim():t)},expression:"usuario.clave"}})],1)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",dark:"",color:"error",title:"Cerrar"},on:{click:e.cerraModal}},[a("v-icon",[e._v(" mdi-close-circle ")])],1),e.editar?e._e():[a("v-btn",{attrs:{loading:e.deshabilitado,medium:"",dark:"",color:"mdi-eye"===e.botonClave.icono?"primary":"purple",title:"text"===e.botonClave.type?"Ocultar clave":"Ver clave"},on:{click:e.cambiarTypeIput}},[a("v-icon",[e._v(" "+e._s(e.botonClave.icono)+" ")])],1)],a("v-btn",{attrs:{loading:e.deshabilitado,color:"teal",dark:"",medium:"",title:e.editar?"Editar usuario":"Agregar nuevo usuario"},on:{click:e.enviarFormulario}},[a("v-icon",[e._v(e._s(e.editar?"mdi-account-edit":"mdi-account-plus"))])],1)],2)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{small:"",color:"primary",dark:"",title:"Editar Usuario",loading:e.deshabilitado},on:{click:function(t){return e.asignarDatosEditar(r)}}},[a("v-icon",[e._v("mdi-account-edit")])],1),a("v-btn",{staticClass:"ml-2",attrs:{dark:"",small:"",color:"teal",title:"Cambiar Clave",loading:e.deshabilitado},on:{click:function(t){return e.abriModalClave(r)}}},[a("v-icon",[e._v("mdi-account-key")])],1),a("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"error",title:"Eliminar Usuario",loading:e.deshabilitado},on:{click:function(t){return e.eliminarUsuario(r)}}},[a("v-icon",[e._v("mdi-account-off")])],1)]}},{key:"no-data",fn:function(){return[e._v(" No existen usuarios registrados. "),a("v-icon",{staticClass:"error--text",attrs:{title:"Recargar solicitudes"},on:{click:e.obtenerUsuarios}},[e._v("mdi-account-supervisor-circle-outline")])]},proxy:!0}],null,!0)})],1)],1),a("ModalCambiarClave",{attrs:{mostrarModal:e.mostrarModalClave,usuarioID:e.usuario&&e.usuario.id},on:{cerrar:e.cerraModalClave}})],1)},Ht=[],Yt={name:"Usuarios",components:{Spinner:se,ModalCambiarClave:ee},data:function(){return{mostrarModalClave:!1,regla:[function(e){return!!e||"El campo es obligatorio."}],reglaClave:[function(e){return!!e||"El campo es obligatorio."},function(e){var t;return(null===(t=String(e))||void 0===t?void 0:t.length)>=6||"La clave debe ser minimo 6 carácteres."}],usuarios:[],roles:[],selectRoles:[],usuario:{nombre:"",usuario:"",clave:"",id_rol:""},botonClave:{type:"password",icono:"mdi-eye"},editar:!1,modalUsuario:!1,loading:!1,deshabilitado:!1,filtroUsuario:"",usuarioNoEncontrado:"No se encontrarón usuarios relacionados con la busqueda.",datosUsuarios:[{sortable:!1},{text:"Nombre",value:"nombre"},{text:"Usuario de ingreso al admin",value:"usuario"},{text:"Rol",value:"id_rol"},{text:"Acciones",value:"actions",sortable:!1}]}},computed:{tituloForm:function(){return this.editar?"Editar Autor":"Crear Autor"}},watch:{modalUsuario:function(e){e||this.cerraModal()}},created:function(){this.obtenerUsuarios(),this.obtenerDatosRol()},methods:{asignarDatosEditar:function(e){this.editar=!0,this.usuario=Object.assign({},e),this.modalUsuario=!0},obtenerDatosRol:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/obtener-roles");case 3:a=t.sent,r=a.data,e.roles=r,e.selectRoles=r.map((function(e){return e.rol})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.mostrarAlerta("error",t.t0.response.data.msg);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},abriModalClave:function(e){this.usuario=e,this.mostrarModalClave=!0},cerraModalClave:function(){this.mostrarModalClave=!1,this.usuario={nombre:"",usuario:"",clave:"",id_rol:""}},validarCampos:function(){return!!(this.usuario.clave&&this.usuario.usuario&&this.usuario.nombre&&this.usuario.clave.length&&this.usuario.usuario.length&&this.usuario.nombre.length&&this.usuario.id_rol&&this.usuario.id_rol.length)||(this.$refs.form.validate(),!1)},crearUsuario:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.validarCampos(),a){t.next=3;break}return t.abrupt("return",e.mostrarAlerta("error","Debes completar todos los campos."));case 3:if(!(e.usuario.clave.length<6)){t.next=5;break}return t.abrupt("return",e.mostrarAlerta("error","La clave debe ser minimo de 6 caracteres."));case 5:return t.prev=5,r=e.roles.filter((function(t){return t.rol===e.usuario.id_rol})),i=Object(Ie["a"])(r,1),o=i[0],n=JSON.parse(JSON.stringify(e.usuario)),n.id_rol=o.id,e.deshabilitado=!0,t.next=12,e.axios.post("/registro-usuario",n);case 12:s=t.sent,c=s.data,e.mostrarAlerta("success",c.msg),e.cerraModal(),e.deshabilitado=!1,e.obtenerUsuarios(),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](5),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 24:case"end":return t.stop()}}),t,null,[[5,20]])})))()},actualizarUsuario:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,i,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.usuario.usuario&&e.usuario.nombre&&e.usuario.nombre.length&&e.usuario.usuario.length&&e.usuario.id_rol&&e.usuario.id_rol.length){t.next=3;break}return e.mostrarAlerta("error","Debes completar todos los datos."),t.abrupt("return",e.$refs.form.validate());case 3:return t.prev=3,a=e.roles.filter((function(t){return t.rol===e.usuario.id_rol})),r=Object(Ie["a"])(a,1),i=r[0],o=JSON.parse(JSON.stringify(e.usuario)),o.id_rol=i.id,e.deshabilitado=!0,t.next=10,e.axios.put("/actualizar-usuario/".concat(e.usuario.id),o);case 10:n=t.sent,s=n.data,e.mostrarAlerta("success",s.msg),e.obtenerUsuarios(),e.cerraModal(),e.deshabilitado=!1,t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),e.deshabilitado=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))()},enviarFormulario:function(){this.editar?this.actualizarUsuario():this.crearUsuario()},obtenerUsuarios:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.axios.get("/obtener-usuarios");case 4:a=t.sent,r=a.data,e.usuarios=r,e.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.loading=!1,e.mostrarAlerta("error",t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},eliminarUsuario:function(e){var t=this;F.a.fire({title:"Eliminar usuario",text:"¿Estas seguro en eliminar el usuario ".concat(e.nombre,"? Una vez eliminado no se podra recuperar."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#f14545",cancelButtonColor:"#204e65",cancelButtonText:"No, cancelar",confirmButtonText:"Si, Eliminar"}).then(function(){var a=Object(L["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.isConfirmed){a.next=9;break}return t.deshabilitado=!0,a.next=4,t.axios.delete("/eliminar-usuario/".concat(e.id));case 4:i=a.sent,o=i.data,t.mostrarAlerta("success",o.msg),t.usuarios=t.usuarios.filter((function(t){return t.id!==e.id})),t.deshabilitado=!1;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){t.deshabilitado=!1,t.mostrarAlerta("error",e.response.data.msg)}))},cambiarTypeIput:function(){"password"===this.botonClave.type?(this.botonClave.type="text",this.botonClave.icono="mdi-eye"):(this.botonClave.type="password",this.botonClave.icono="mdi-eye-off")},cerraModal:function(){this.modalUsuario=!1,this.editar=!1,this.$refs.form.resetValidation(),this.usuario={nombre:"",clave:"",usuario:"",id_rol:""}},mostrarAlerta:function(e,t){var a=F.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",F.a.stopTimer),e.addEventListener("mouseleave",F.a.resumeTimer)}});a.fire({icon:e,title:t})}}},Kt=Yt,Wt=Object(u["a"])(Kt,Gt,Ht,!1,null,null,null),Xt=Wt.exports;m()(Wt,{VApp:j["a"],VAutocomplete:Pe["a"],VBtn:f["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:G["a"],VContainer:H["a"],VDataTable:Ae["a"],VDialog:Y["a"],VDivider:b["a"],VForm:K["a"],VIcon:g["a"],VRow:W["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:we["a"],VToolbarTitle:E["a"]});var Zt=a("2f62"),ea=(a("ac1f"),a("1276"),function(e){var t=e?e.split(".")[1]:null;return t?JSON.parse(atob(t)):{}}),ta="autenticacion-token",aa="http://localhost:3000/api",ra=a("bc3a"),ia=a.n(ra);r["a"].use(Zt["a"]);var oa=new Zt["a"].Store({state:{usuario:{},token:null,estaAutenticado:!1,esAdmin:!1},mutations:{establecerToken:function(e,t){e.token=t},establecerUsuario:function(e,t){e.usuario=t},establecerAutenticado:function(e,t){e.estaAutenticado=t},establecerEsAdmin:function(e,t){e.esAdmin=t},resetearStore:function(e){e.token=null,e.usuario={},e.estaAutenticado=!1}},actions:{logout:function(e){localStorage.removeItem(ta),delete ia.a.defaults.headers.common["Authorization"],e.commit("resetearStore"),pa.push("/login")},establecerDatos:function(e,t){var a=ea(t),r=a.id,i=a.nombre,o=a.usuario,n=a.rol,s={id:r,nombre:i,usuario:o,rol:n},c="Administrador"===n;localStorage.setItem(ta,t),ia.a.defaults.headers.common["Authorization"]="Bearer "+t,e.commit("establecerToken",t),e.commit("establecerUsuario",s),e.commit("establecerAutenticado",!0),e.commit("establecerEsAdmin",c)},obtenerUsuario:function(e){var t=localStorage.getItem(ta);if(t)return e.dispatch("establecerDatos",t);e.commit("resetearStore")}},getters:{nombreAdmin:function(e){return e.usuario.nombre},esAdmin:function(e){return e.esAdmin},rolUsuario:function(e){return e.usuario.rol}}}),na=function(e,t,a){if("undefined"!==typeof localStorage)return localStorage.getItem("autenticacion-token")?a():a("/login")},sa=function(e,t,a){if("undefined"!==typeof localStorage)return localStorage.getItem("autenticacion-token")?a("/"):a()},ca=function(e,t,a){if("undefined"!==typeof localStorage){var r=oa.getters.esAdmin;return r?a():a("/")}};r["a"].use(B["a"]);var la=B["a"].prototype.push;B["a"].prototype.push=function(e){return la.call(this,e).catch((function(e){return e}))};var ua=[{path:"/",name:"Home",component:me,beforeEnter:na,meta:{title:"La Quiniela | Clientes Registrados"}},{path:"/login",name:"Login",component:he,beforeEnter:sa,meta:{title:"La Quiniela | Login Administrativo"}},{path:"/autor",name:"Autor",component:Ee,beforeEnter:ca,meta:{title:"La Quiniela | Autores Registrados"}},{path:"/categoria",name:"Categoria",component:Te,beforeEnter:ca,meta:{title:"La Quiniela | Categorias Registradas"}},{path:"/noticia",name:"Noticias",component:Le,beforeEnter:na,meta:{title:"La Quiniela | Noticas Recientes"}},{path:"/crear-noticia",name:"CrearNoticia",component:He,beforeEnter:ca,meta:{title:"La Quiniela | Crear Noticia"}},{path:"/editar-noticia/:noticiaID",name:"NoticiaEditar",component:et,beforeEnter:ca,meta:{title:"La Quiniela | Actualizar Noticia"}},{path:"/equipo",name:"Equipos",component:nt,beforeEnter:na,meta:{title:"La Quiniela | Equipos Registrados"}},{path:"/contacto",name:"Contacto",component:mt,beforeEnter:na,meta:{title:"La Quiniela | Mensajes De Contacto"}},{path:"/seguimiento",name:"Seguimientos",component:ht,beforeEnter:na,meta:{title:"La Quiniela | Seguimientos Del Cliente"}},{path:"/apuesta",name:"Apuestas",component:Et,beforeEnter:na,meta:{title:"La Quiniela | Apuestas Registradas"}},{path:"/apuesta-cliente",name:"ApuestasCliente",component:Tt,beforeEnter:na,meta:{title:"La Quiniela | Apuestas Del Cliente"}},{path:"/definir-apuesta/:apuestaID",name:"DefinirApuesta",component:Ft,beforeEnter:ca,meta:{title:"La Quiniela | Definir Apuesta Del Cliente"}},{path:"/solicitud-recargas",name:"Recargas",component:Qt,beforeEnter:ca,meta:{title:"La Quiniela | Solicitudes De Recarga"}},{path:"/usuarios",name:"Usuarios",component:Xt,beforeEnter:ca,meta:{title:"La Quiniela | Usuarios Administradores"}},{path:"*",redirect:"/"}],da=new B["a"]({routes:ua}),ma="La Quiniela | Administración";da.afterEach((function(e){r["a"].nextTick((function(){document.title=e.meta.title||ma}))}));var pa=da,va=a("f309");r["a"].use(va["a"]);var fa=new va["a"]({}),ba=a("2106"),ga=a.n(ba);r["a"].config.productionTip=!1,ia.a.defaults.baseURL=aa;var ha=localStorage.getItem("autenticacion-token");ha?ia.a.defaults.headers.common["Authorization"]="Bearer "+ha:delete ia.a.defaults.headers.common["Authorization"],r["a"].use(ga.a,ia.a),new r["a"]({router:pa,store:oa,vuetify:fa,render:function(e){return e($)}}).$mount("#app")},"7a4d":function(e,t,a){"use strict";a("8b6b")},8774:function(e,t,a){},"8a72":function(e,t,a){"use strict";a("9743")},"8b6b":function(e,t,a){},"8d62":function(e,t,a){"use strict";a("421d")},"8e35":function(e,t,a){"use strict";a("9e40")},9743:function(e,t,a){},"9e40":function(e,t,a){},"9fba":function(e,t,a){},"9fc7":function(e,t,a){},ba43:function(e,t,a){"use strict";a("9fc7")},e3d0:function(e,t,a){e.exports=a.p+"img/observador.8673ff7d.png"},e7de:function(e,t,a){"use strict";a("9fba")},eaad:function(e,t,a){},f430:function(e,t,a){"use strict";a("0af0")},fdf4:function(e,t,a){}});
//# sourceMappingURL=app.13c11cdc.js.map